---
import type { Lang } from '../../lib/lang';
import { t } from '../../data/i18n';

interface Props {
  lang: Lang;
  variant?: '2col' | '1col';
}

const { lang, variant = '2col' } = Astro.props as Props;

const faqs = Array.from({ length: 10 }, (_, i) => {
  const index = i + 1;
  return {
    q: t(`faq.q${index}`, lang),
    a: t(`faq.a${index}`, lang),
  };
});

const isHome = variant === '2col';
---

{
  isHome ? (
    <section class="py-20">
      <div class="container mx-auto max-w-7xl">
        <h2 class="text-4xl font-black mb-12 text-center uppercase text-[var(--color-text)]">{t('faq.title', lang)}</h2>
        <div class="grid gap-6 lg:grid-cols-2">
          {faqs.map((f) => (
            <details class="group bg-[var(--color-bg-card)] border-1 border-[var(--color-border)] shadow-[2px_2px_0px_0px_var(--color-shadow)] open:shadow-none open:translate-y-1 transition-all">
              <summary class="flex justify-between items-center p-6 font-bold cursor-pointer list-none text-[var(--color-text)]">
                <span>{f.q}</span>
                <span class="transform group-open:rotate-180 transition-transform">▼</span>
              </summary>
              <div class="px-6 pb-6 text-gray-600 font-medium leading-relaxed border-t-1 border-[var(--color-border)] pt-4">
                {f.a}
              </div>
            </details>
          ))}
        </div>
      </div>
    </section>
  ) : (
    <div class="max-w-3xl mx-auto mb-20">
      <h2 class="text-3xl font-black mb-8 text-center uppercase">
        {t('faq.title', lang)}
      </h2>
      <div class="space-y-4">
        {faqs.map((f) => (
          <details class="group bg-[var(--color-bg-card)] border-1 border-[var(--color-border)] open:shadow-[2px_2px_0px_0px_var(--color-shadow)] open:mb-4 transition-all duration-200">
            <summary class="flex justify-between items-center p-6 font-bold cursor-pointer list-none text-[var(--color-text)]">
              <span>{f.q}</span>
              <span class="transform group-open:rotate-180 transition-transform">▼</span>
            </summary>
            <div class="px-6 pb-6 text-gray-600 font-medium leading-relaxed border-t-2 border-[var(--color-border)] pt-4 bg-[var(--color-bg)]/50">
              {f.a}
            </div>
          </details>
        ))}
      </div>
    </div>
  )
}
