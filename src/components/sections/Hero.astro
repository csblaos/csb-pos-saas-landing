---
import Button from '../common/Button.astro';
import { Badge } from 'lucide-react';
import { getLangFromUrl } from '../../lib/lang';
import { t } from '../../data/i18n';

const lang = getLangFromUrl(Astro.url);
---

<section class="relative pt-20 pb-16 md:pt-32 md:pb-24 overflow-hidden border-b-2 border-[var(--color-border)]">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full grid lg:grid-cols-2 gap-12 items-center">
    
    <!-- Left: Content -->
    <div class="space-y-8 z-10 relative">
      <div class="inline-block px-4 py-2 bg-yellow-300 text-black border-2 border-black shadow-[4px_4px_0px_0px_var(--color-shadow)] font-bold text-sm transform -rotate-2">
        ðŸš€ The #1 POS for Social Sellers
      </div>
      
      <h1 class="text-5xl md:text-7xl font-black leading-none tracking-tighter whitespace-pre-line text-[var(--color-text)]">
        {t('hero.headline', lang)}
      </h1>
      
      <p class="text-xl md:text-2xl font-bold text-gray-600 dark:text-gray-300 leading-relaxed max-w-lg">
        {t('hero.subheadline', lang)}
      </p>

      <div class="flex flex-col sm:flex-row gap-4">
        <Button href={`/${lang}/packages`} class="text-lg px-8 py-4">{t('hero.cta.start', lang)}</Button>
        <Button href={`/${lang}/demo`} variant="outline" class="text-lg px-8 py-4 dark:text-black dark:bg-white">{t('hero.cta.demo', lang)}</Button>
      </div>
      
      <div class="flex items-center gap-4 text-sm font-bold pt-4 text-[var(--color-text)]">
        <div class="flex -space-x-2">
          <div class="w-10 h-10 rounded-full bg-gray-300 border-2 border-[var(--color-border)]"></div>
          <div class="w-10 h-10 rounded-full bg-gray-400 border-2 border-[var(--color-border)]"></div>
          <div class="w-10 h-10 rounded-full bg-gray-500 border-2 border-[var(--color-border)]"></div>
        </div>
        <p>{t('hero.trusted', lang)}</p>
      </div>
    </div>

    <!-- Right: Animation / Mockupe -->
    <div class="relative z-0 flex justify-center lg:justify-end">
      <!-- Phone Frame -->
      <div class="w-72 md:w-80 h-[500px] bg-white border-4 border-black rounded-[2rem] shadow-[12px_12px_0px_0px_var(--color-shadow)] relative overflow-hidden flex flex-col">
        <!-- Phone Header -->
        <div class="h-14 bg-gray-100 border-b-2 border-black flex items-center justify-between px-4">
          <div class="w-16 h-4 bg-gray-300 rounded-full border border-black"></div>
          <div class="w-4 h-4 bg-black rounded-full"></div>
        </div>
        
        <!-- Phone Body (Simulated UI) -->
        <div class="flex-1 bg-white p-4 space-y-4 overflow-hidden relative force-light">
          
          <!-- Incoming Orders Animation -->
          <div class="absolute inset-0 p-4 pointer-events-none">
             <!-- Bubbles animating in -->
             <div class="animate-float-in-1 absolute top-20 -left-10 bg-[#1877F2] text-white p-3 border-2 border-black shadow-hard z-20 rounded-lg w-48 rotate-3">
               <p class="text-xs font-bold">New Order via Facebook!</p>
               <p class="text-xs">Slip + Address attached.</p>
             </div>

             <div class="animate-float-in-2 absolute top-40 -right-5 bg-[#25D366] text-black p-3 border-2 border-black shadow-hard z-20 rounded-lg w-48 -rotate-2">
               <p class="text-xs font-bold">WhatsApp Inquiry</p>
               <p class="text-xs">"Do you have stock?"</p>
             </div>
          </div>
          
          <!-- Static UI List -->
          <div class="space-y-3 mt-12 opacity-50 blur-[1px]">
            <div class="h-16 bg-gray-50 border-2 border-gray-200 rounded p-2"></div>
            <div class="h-16 bg-gray-50 border-2 border-gray-200 rounded p-2"></div>
            <div class="h-16 bg-gray-50 border-2 border-gray-200 rounded p-2"></div>
          </div>
          
          <!-- Success Card -->
          <div class="absolute bottom-10 left-4 right-4 bg-lime-300 text-black border-2 border-black p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] animate-bounce-in">
            <h4 class="font-bold text-lg">Order Created! âœ…</h4>
            <p class="text-xs font-bold">Ref: #Astro-001</p>
          </div>
        </div>
        
        <!-- Phone Footer -->
        <div class="h-16 bg-gray-100 border-t-2 border-black flex justify-around items-center px-6">
           <div class="w-8 h-8 border-2 border-black bg-white rounded"></div>
           <div class="w-8 h-8 border-2 border-black bg-lime-400 rounded-full"></div>
           <div class="w-8 h-8 border-2 border-black bg-white rounded"></div>
        </div>
      </div>
      
      <!-- Decor elements -->
      <div class="absolute top-10 right-10 w-24 h-24 bg-pink-400 border-2 border-[var(--color-border)] -z-10 rounded-full blur-xl opacity-50"></div>
    </div>
  </div>
  
  <style>
    @keyframes float-in-1 {
      0% { transform: translateX(-100%) rotate(0deg); opacity: 0; }
      100% { transform: translateX(0) rotate(3deg); opacity: 1; }
    }
    @keyframes float-in-2 {
      0% { transform: translateX(100%) rotate(0deg); opacity: 0; }
      100% { transform: translateX(0) rotate(-2deg); opacity: 1; }
    }
    @keyframes bounce-in {
      0% { transform: scale(0.5); opacity: 0; }
      70% { transform: scale(1.1); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }
    .animate-float-in-1 { animation: float-in-1 0.8s ease-out forwards 0.5s; }
    .animate-float-in-2 { animation: float-in-2 0.8s ease-out forwards 1.2s; }
    .animate-bounce-in { animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards 2s; opacity: 0; }
  </style>
</section>
