---
import { t } from '../../data/i18n';
import type { Lang } from '../../lib/lang';
import TestimonialCarousel from '../islands/TestimonialCarousel';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;

interface Testimonial {
  name: string;
  role: string;
  shop: string;
  quote: string;
  image: string;
  stars: number;
  color: string;
}

const testimonials: Testimonial[] = [
  {
    name: "Sarah J.",
    role: "Online Seller",
    shop: "Fashion BKK",
    quote: "best.pos.ever",
    image: "https://i.pravatar.cc/150?u=a042581f4e29026024d",
    stars: 5,
    color: "bg-pink-400"
  },
  {
    name: "David C.",
    role: "Cafe Owner",
    shop: "Drip & Drop",
    quote: "saved.my.time",
    image: "https://i.pravatar.cc/150?u=a042581f4e29026704d",
    stars: 5,
    color: "bg-lime-400"
  },
  {
    name: "Jenny T.",
    role: "TikTok Creator",
    shop: "Jen's Gadgets",
    quote: "easy.to.use",
    image: "https://i.pravatar.cc/150?u=a04258114e29026302d",
    stars: 5,
    color: "bg-cyan-400"
  },
  {
    name: "Somchai K.",
    role: "Retailer",
    shop: "K-Shop",
    quote: "game.changer",
    image: "https://i.pravatar.cc/150?u=somchai",
    stars: 5,
    color: "bg-orange-400"
  },
  {
    name: "Linda M.",
    role: "Store Manager",
    shop: "Bloom & Co.",
    quote: "support.team",
    image: "https://i.pravatar.cc/150?u=linda",
    stars: 5,
    color: "bg-purple-400"
  },
  {
    name: "Alex R.",
    role: "Entrepreneur",
    shop: "TechHub",
    quote: "all.in.one",
    image: "https://i.pravatar.cc/150?u=alex",
    stars: 5,
    color: "bg-blue-400"
  },
  {
    name: "Phommachanh S.",
    role: "Boutique Owner",
    shop: "Lao Elegance",
    quote: "business.growth",
    image: "https://i.pravatar.cc/150?u=phommachanh",
    stars: 5,
    color: "bg-emerald-400"
  }
];
---

<section class="py-20 border-t-2 border-black bg-yellow-400 dark:bg-yellow-500 text-black">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16 px-4">
      <h2 class="text-4xl md:text-6xl font-black uppercase tracking-tighter mb-4">
        {t('testimonials.title', lang)}
      </h2>
      <p class="text-xl font-bold font-mono">
        {t('testimonials.subtitle', lang)}
      </p>
    </div>

    {/* Unified Infinity Carousel Island (Desktop 3-up, Mobile 1-up) */}
    <TestimonialCarousel client:load lang={lang} testimonials={testimonials} />

    <div class="mt-16 text-center">
      <div class="inline-block bg-black text-white px-8 py-4 text-2xl font-black border-2 border-white shadow-[4px_4px_0px_0px_rgba(255,255,255,1)]">
        4.9 / 5.0 RATING
      </div>
    </div>
  </div>
</section>
