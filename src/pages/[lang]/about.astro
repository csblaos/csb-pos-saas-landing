---
import Base from '../../layouts/Base.astro';
import Navbar from '../../components/sections/Navbar.astro';
import Footer from '../../components/sections/Footer.astro';
import { getLangFromUrl, languages } from '../../lib/lang';
import { buildWhatsAppLink, storeSettings } from '../../data/store';
import { aboutPageCopy, aboutWhatsappMessage, fromLang } from '../../data/localizedCopy';

export async function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const c = fromLang(aboutPageCopy, lang);
const whatsappMessage = fromLang(aboutWhatsappMessage, lang);

const salesWhatsappLink = buildWhatsAppLink(storeSettings.whatsapp.packageSales, whatsappMessage);
---

<Base title="About Us | AstroPOS" image="/images/og/og-home.png">
  <Navbar />

  <main class="py-8 md:py-12">
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <span class="inline-flex items-center px-3 py-1 bg-black text-white font-black uppercase text-xs border-1 border-black">
        {c.badge}
      </span>
      <h1 class="mt-5 text-4xl md:text-5xl font-black uppercase leading-tight text-[var(--color-text)] max-w-5xl">
        {c.title}
      </h1>
      <p class="mt-6 text-lg md:text-xl font-semibold text-gray-600 max-w-3xl">
        {c.subtitle}
      </p>
    </section>

    <section class="mt-8 md:mt-14 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <div class="grid md:grid-cols-2 gap-8">
        <article class="p-8 border-1 border-[var(--color-border)] bg-[var(--color-bg-card)] shadow-[2px_2px_0px_0px_var(--color-shadow)]">
          <h2 class="text-2xl font-black uppercase mb-4">{c.missionTitle}</h2>
          <p class="text-base font-medium text-gray-700 leading-relaxed">{c.missionBody}</p>
        </article>
        <article class="p-8 border-1 border-[var(--color-border)] bg-[var(--color-bg-card)] shadow-[2px_2px_0px_0px_var(--color-shadow)]">
          <h2 class="text-2xl font-black uppercase mb-4">{c.visionTitle}</h2>
          <p class="text-base font-medium text-gray-700 leading-relaxed">{c.visionBody}</p>
        </article>
      </div>
    </section>

    <section class="mt-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <div class="grid sm:grid-cols-3 gap-4">
        <div class="p-5 bg-white border-1 border-black text-black shadow-[2px_2px_0px_0px_black]">
          <p class="text-xs font-black uppercase">{c.founded}</p>
          <p class="text-xl font-black mt-1">{storeSettings.company.foundedYear}</p>
        </div>
        <div class="p-5 bg-white border-1 border-black text-black shadow-[2px_2px_0px_0px_black]">
          <p class="text-xs font-black uppercase">{c.based}</p>
          <p class="text-xl font-black mt-1">{storeSettings.company.location}</p>
        </div>
        <div class="p-5 bg-white border-1 border-black text-black shadow-[2px_2px_0px_0px_black]">
          <p class="text-xs font-black uppercase">{c.support}</p>
          <p class="text-xl font-black mt-1">{storeSettings.emails.support}</p>
        </div>
      </div>
    </section>

    <section class="mt-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <h2 class="text-3xl font-black uppercase mb-6">{c.valuesTitle}</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <article class="p-6 border-1 border-[var(--color-border)] bg-[var(--color-bg-card)] shadow-[2px_2px_0px_0px_var(--color-shadow)]">
          <h3 class="text-xl font-black mb-2">{c.value1Title}</h3>
          <p class="text-sm font-medium text-gray-700">{c.value1Body}</p>
        </article>
        <article class="p-6 border-1 border-[var(--color-border)] bg-[var(--color-bg-card)] shadow-[2px_2px_0px_0px_var(--color-shadow)]">
          <h3 class="text-xl font-black mb-2">{c.value2Title}</h3>
          <p class="text-sm font-medium text-gray-700">{c.value2Body}</p>
        </article>
        <article class="p-6 border-1 border-[var(--color-border)] bg-[var(--color-bg-card)] shadow-[2px_2px_0px_0px_var(--color-shadow)]">
          <h3 class="text-xl font-black mb-2">{c.value3Title}</h3>
          <p class="text-sm font-medium text-gray-700">{c.value3Body}</p>
        </article>
      </div>
    </section>

    <section class="mt-16 bg-black text-white py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full text-center">
        <h2 class="text-3xl md:text-4xl font-black uppercase">{c.ctaTitle}</h2>
        <div class="mt-8 flex flex-wrap justify-center gap-3">
          <a
            href={salesWhatsappLink}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center px-6 py-3 bg-lime-400 text-black font-black uppercase border-1 border-white shadow-[2px_2px_0px_0px_rgba(255,255,255,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all"
          >
            {c.ctaWhatsapp}
          </a>
          <a
            href={`/${lang}/packages`}
            class="inline-flex items-center justify-center px-6 py-3 bg-transparent text-white font-black uppercase border-1 border-white shadow-[2px_2px_0px_0px_rgba(255,255,255,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all"
          >
            {c.ctaPackages}
          </a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Base>
